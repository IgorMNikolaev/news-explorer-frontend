[{"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\index.js":"1","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\reportWebVitals.js":"2","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\App\\App.js":"3","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\SavedNews\\SavedNews.js":"4","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Main\\Main.js":"5","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Header\\Header.js":"6","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\SearchForm\\SearchForm.js":"7","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Navigation\\Navigation.js":"8","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Footer\\Footer.js":"9","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\About\\About.js":"10","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Preloader\\Preloader.js":"11","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsNotFound\\NewsNotFound.js":"12","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Results\\Results.js":"13","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsCardList\\NewsCardList.js":"14","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\SavedNewsHeader\\SavedNewsHeader.js":"15","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsCard\\NewsCard.js":"16","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\AuthPopup\\AuthPopup.js":"17","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\InfoTooltip\\InfoTooltip.js":"18","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\EntrancePopup\\EntrancePopup.js":"19","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Popup\\Popup.js":"20","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\ProtectedRoute\\ProtectedRoute.js":"21","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\contexts\\CurrentUserContext.js":"22","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\auth.js":"23","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\token.js":"24","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\MainApi.js":"25","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\NewsApi.js":"26","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsError\\NewsError.js":"27","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\utils.js":"28"},{"size":327,"mtime":1609145308059,"results":"29","hashOfConfig":"30"},{"size":362,"mtime":499162500000,"results":"31","hashOfConfig":"30"},{"size":10552,"mtime":1611737913592,"results":"32","hashOfConfig":"30"},{"size":767,"mtime":1611658874012,"results":"33","hashOfConfig":"30"},{"size":1517,"mtime":1611658751941,"results":"34","hashOfConfig":"30"},{"size":1353,"mtime":1611658741611,"results":"35","hashOfConfig":"30"},{"size":1237,"mtime":1611658873241,"results":"36","hashOfConfig":"30"},{"size":2814,"mtime":1611658933391,"results":"37","hashOfConfig":"30"},{"size":1034,"mtime":1610539740586,"results":"38","hashOfConfig":"30"},{"size":986,"mtime":1610539738848,"results":"39","hashOfConfig":"30"},{"size":298,"mtime":1610539717744,"results":"40","hashOfConfig":"30"},{"size":571,"mtime":1611321037735,"results":"41","hashOfConfig":"30"},{"size":782,"mtime":1611658874665,"results":"42","hashOfConfig":"30"},{"size":993,"mtime":1611658777801,"results":"43","hashOfConfig":"30"},{"size":1536,"mtime":1611653542903,"results":"44","hashOfConfig":"30"},{"size":4049,"mtime":1611658772531,"results":"45","hashOfConfig":"30"},{"size":3331,"mtime":1611748704893,"results":"46","hashOfConfig":"30"},{"size":794,"mtime":1611669454300,"results":"47","hashOfConfig":"30"},{"size":2521,"mtime":1611748755669,"results":"48","hashOfConfig":"30"},{"size":1285,"mtime":1611736887163,"results":"49","hashOfConfig":"30"},{"size":528,"mtime":1611658828053,"results":"50","hashOfConfig":"30"},{"size":84,"mtime":1611056945525,"results":"51","hashOfConfig":"30"},{"size":1070,"mtime":1611658706474,"results":"52","hashOfConfig":"30"},{"size":211,"mtime":1611129887811,"results":"53","hashOfConfig":"30"},{"size":2119,"mtime":1611658708317,"results":"54","hashOfConfig":"30"},{"size":661,"mtime":1611658709844,"results":"55","hashOfConfig":"30"},{"size":487,"mtime":1611320841198,"results":"56","hashOfConfig":"30"},{"size":320,"mtime":1611658704075,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"11f2fdl",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"60"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"60"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\index.js",[],["119","120"],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\reportWebVitals.js",[],["121","122"],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\App\\App.js",["123","124"],"import React from \"react\";\nimport \"./App.css\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Main from \"../Main/Main\";\nimport SavedNews from \"../SavedNews/SavedNews\";\nimport Footer from \"../Footer/Footer\";\nimport AuthPopup from \"../AuthPopup/AuthPopup\";\nimport EntrancePopup from \"../EntrancePopup/EntrancePopup\";\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport {\n  registrationReq,\n  authorizationReq,\n  getContent,\n} from \"../../utils/auth\";\nimport { getToken, removeToken, setToken } from \"../../utils/token\";\nimport MainApi from \"../../utils/MainApi\";\nimport NewsApi from \"../../utils/NewsApi\";\nimport { sortByFrequency } from \"../../utils/utils\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isAuthPopupOpen, setAuthPopupOpen] = React.useState(false);\n  const [isEntrancePopupOpen, setEntrancePopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n  const [isLoading, setLoading] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState(\"\");\n  const [articles, setArticles] = React.useState([]);\n  const [noResults, setNoResults] = React.useState(false);\n  const [resultsError, setResultsError] = React.useState(false);\n  const [savedArticles, setSavedArticles] = React.useState([]);\n  const [articlesNumber, setArticlesNumber] = React.useState(3);\n  const [searchedArticles, setSearchedArticles] = React.useState([]);\n  const [sortedNews, setSortedNews] = React.useState([]);\n  const [message, setMessage] = React.useState(\"\");\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      getSavedArticles();\n    }\n    const allArticles = JSON.parse(localStorage.getItem(\"allArticles\"));\n\n    if (allArticles) {\n      setArticles(allArticles.slice(0, articlesNumber));\n      setSearchedArticles(allArticles);\n    }\n\n    const user = localStorage.getItem(\"user\");\n    if (user) {\n      setCurrentUser(user);\n    }\n  }, []);\n\n  const BASE_URL = \"https://api.five.students.nomoredomains.monster\";\n  const TimePeriod = 7;\n  const articlesIncreaseStep = 3;\n  const thisdaydate = new Date().toISOString().slice(0, 10);\n  const today = new Date();\n  const year = today.getFullYear();\n  const month = today.getMonth();\n  const day = today.getDate();\n  const finalDate = new Date(year, month, day - TimePeriod)\n    .toISOString()\n    .slice(0, 10);\n\n  const mainApi = new MainApi({\n    baseUrl: BASE_URL,\n  });\n\n  const newsApi = new NewsApi({\n    apiKey: \"ecd21e8eea6c4ee183c41786542767c8\",\n    from: thisdaydate,\n    to: finalDate,\n  });\n\n  const tokenCheck = () => {\n    const jwt = getToken();\n    if (!jwt) {\n      return;\n    }\n    getContent(jwt)\n      .then((res) => {\n        if (res) {\n          setLoggedIn(true);\n        }\n      })\n      .then(() => {\n        getSavedArticles();\n      });\n  };\n\n  function handleAuthPopupClick() {\n    setAuthPopupOpen(true);\n  }\n\n  function handleEntrancePopupClick() {\n    setEntrancePopupOpen(true);\n  }\n\n  function infoTooltipOpen() {\n    setInfoTooltipOpen(true);\n  }\n\n  function closeAllPopups() {\n    setAuthPopupOpen(false);\n    setEntrancePopupOpen(false);\n    setInfoTooltipOpen(false);\n    setMessage(\"\");\n  }\n\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n\n  function register(email, password, name) {\n    registrationReq(email, password, name)\n      .then((res) => {\n        if (res.data) {\n          closeAllPopups();\n          handleEntrancePopupClick();\n          setMessage(\"\");\n          infoTooltipOpen();\n        } else {\n          setMessage(res.message);\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function authorize(email, password) {\n    authorizationReq(email, password)\n      .then((data) => {\n        if (data.token) {\n          setMessage(\"\");\n          setToken(data.token);\n          return data.token;\n        } else {\n          setMessage(data.message);\n          return;\n        }\n      })\n      .then((token) => {\n        if (!token) {\n        }\n        if (token) {\n          handleLogin();\n          getSavedArticles();\n          mainApi\n            .getProfileInfo()\n            .then((res) => {\n              const { name } = res;\n              setCurrentUser(name);\n              localStorage.setItem(\"user\", name);\n            })\n            .catch((error) => {\n              console.log(error);\n            });\n          closeAllPopups();\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function onSignOut() {\n    removeToken();\n    setLoggedIn(false);\n    localStorage.removeItem(\"allArticles\");\n  }\n\n  const handleNewsSearch = async (keyWord) => {\n    setLoading(true);\n    newsApi\n      .getArticle(keyWord)\n      .then((res) => {\n        const { articles } = res;\n        const items = articles.map((article) => ({\n          title: article.title,\n          source: article.source.name,\n          date: article.publishedAt,\n          text: article.description,\n          image: article.urlToImage,\n          link: article.url,\n          keyWord: keyWord,\n          clicked: false,\n        }));\n        localStorage.setItem(\"allArticles\", JSON.stringify(items));\n        setArticles(items.slice(0, articlesNumber));\n        setSearchedArticles(items);\n\n        if (articles.length === 0) {\n          setNoResults(true);\n        } else {\n          setNoResults(false);\n        }\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.log(error);\n        setResultsError(true);\n      });\n  };\n\n  const getSavedArticles = () => {\n    mainApi\n      .getArticles()\n      .then((res) => {\n        setSavedArticles(res);\n        setSortedNews(\n          sortByFrequency(savedArticles.map((article) => article.keyWord))\n        );\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const saveNewArticle = (\n    keyWord,\n    title,\n    text,\n    date,\n    source,\n    link,\n    image,\n    markedIndex,\n    allArticles\n  ) => {\n    mainApi\n      .postNewArticle(\n        keyWord,\n        title,\n        text,\n        date,\n        source,\n        link,\n        image,\n        markedIndex,\n        allArticles\n      )\n      .then((article) => {\n        setSavedArticles([...savedArticles, article]);\n        setSortedNews(\n          sortByFrequency(savedArticles.map((article) => article.keyWord))\n        );\n        allArticles[markedIndex]._id = article._id;\n        localStorage.setItem(\"allArticles\", JSON.stringify(allArticles));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const deleteSavedArticle = (_id, markedIndex, allArticles) => {\n    mainApi\n      .deleteArticle(_id)\n      .then(() => {\n        setSavedArticles(\n          savedArticles.filter((article) => article._id !== _id)\n        );\n        setSortedNews(\n          sortByFrequency(savedArticles.map((article) => article.keyWord))\n        );\n        allArticles[markedIndex]._id = \"\";\n        localStorage.setItem(\"allArticles\", JSON.stringify(allArticles));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const deleteFromSaved = (_id) => {\n    mainApi\n      .deleteArticle(_id)\n      .then(() => {\n        const allArticles = JSON.parse(localStorage.getItem(\"allArticles\"));\n        const markedIndex = allArticles.findIndex(function (article) {\n          return article._id === _id;\n        });\n        setSavedArticles(\n          savedArticles.filter((article) => article._id !== _id)\n        );\n        setSortedNews(\n          sortByFrequency(savedArticles.map((article) => article.keyWord))\n        );\n        allArticles[markedIndex]._id = \"\";\n        allArticles[markedIndex].clicked = false;\n        localStorage.setItem(\"allArticles\", JSON.stringify(allArticles));\n        setArticles(allArticles);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleredirect = () => {\n    setSortedNews(\n      sortByFrequency(savedArticles.map((article) => article.keyWord))\n    );\n    const allArticles = JSON.parse(localStorage.getItem(\"allArticles\"));\n    if (allArticles) {\n      setArticles(allArticles.slice(0, articlesNumber));\n    }\n    setSortedNews(\n      sortByFrequency(savedArticles.map((article) => article.keyWord))\n    );\n  };\n\n  function moreArticles() {\n    setArticlesNumber(articlesNumber + articlesIncreaseStep);\n    const allArticles = JSON.parse(localStorage.getItem(\"allArticles\"));\n    const show = allArticles.slice(0, articlesNumber + 3);\n    setArticles(show);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <section className=\"app\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Main\n              loggedIn={loggedIn}\n              onAuth={handleAuthPopupClick}\n              onSignOut={onSignOut}\n              onNewsSearch={handleNewsSearch}\n              articles={articles}\n              noResults={noResults}\n              resultsError={resultsError}\n              isLoading={isLoading}\n              saveNewArticle={saveNewArticle}\n              deleteSavedArticle={deleteSavedArticle}\n              handleredirect={handleredirect}\n              moreArticles={moreArticles}\n              searchedArticles={searchedArticles}\n            />\n          </Route>\n          <ProtectedRoute\n            path=\"/saved-news\"\n            loggedIn={loggedIn}\n            logged={true}\n            savedArticles={savedArticles}\n            component={SavedNews}\n            onSignOut={onSignOut}\n            deleteFromSaved={deleteFromSaved}\n            handleEntrancePopupClick={handleEntrancePopupClick}\n            sortedNews={sortedNews}\n          />\n        </Switch>\n        <Footer />\n        <AuthPopup\n          isOpen={isAuthPopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onEntrance={handleEntrancePopupClick}\n          register={register}\n          message={message}\n        />\n        <EntrancePopup\n          isOpen={isEntrancePopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onAuth={handleAuthPopupClick}\n          authorize={authorize}\n          message={message}\n        />\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          onEntrance={handleEntrancePopupClick}\n        />\n      </section>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\SavedNews\\SavedNews.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Main\\Main.js",["125"],"import React from \"react\";\nimport \"./Main.css\";\nimport Header from \"../Header/Header\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport About from \"../About/About\";\nimport Preloader from \"../Preloader/Preloader\";\nimport NewsNotFound from \"../NewsNotFound/NewsNotFound\";\nimport NewsError from \"../NewsError/NewsError\";\nimport Results from \"../Results/Results\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Main({\n  loggedIn,\n  onAuth,\n  onSignOut,\n  onNewsSearch,\n  articles,\n  noResults,\n  resultsError,\n  isLoading,\n  saveNewArticle,\n  deleteSavedArticle,\n  handleredirect,\n  moreArticles,\n  searchedArticles,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <div className=\"main__upper-block\">\n        <Header\n          theme=\"\"\n          loggedIn={loggedIn}\n          onAuth={onAuth}\n          onSignOut={onSignOut}\n          handleredirect={handleredirect}\n        />\n        <SearchForm onNewsSearch={onNewsSearch} />\n      </div>\n      {isLoading && <Preloader />}\n      {noResults && <NewsNotFound />}\n      {articles.length > 0 && (\n        <Results\n          loggedIn={loggedIn}\n          articles={articles}\n          saveNewArticle={saveNewArticle}\n          deleteSavedArticle={deleteSavedArticle}\n          moreArticles={moreArticles}\n          searchedArticles={searchedArticles}\n        />\n      )}\n      {resultsError && <NewsError />}\n      <About />\n    </main>\n  );\n}\n\nexport default Main;\n","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Header\\Header.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\SearchForm\\SearchForm.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Navigation\\Navigation.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Footer\\Footer.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\About\\About.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Preloader\\Preloader.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsNotFound\\NewsNotFound.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Results\\Results.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsCardList\\NewsCardList.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\SavedNewsHeader\\SavedNewsHeader.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsCard\\NewsCard.js",["126"],"import React from \"react\";\nimport \"./NewsCard.css\";\n\nfunction NewsCard({\n  loggedIn,\n  saved,\n  title,\n  source,\n  date,\n  text,\n  image,\n  link,\n  keyWord,\n  clicked,\n  saveNewArticle,\n  deleteSavedArticle,\n  deleteFromSaved,\n  _id,\n}) {\n  const [marked, setmarked] = React.useState(false);\n  const today = new Date(date);\n  const year = today.getFullYear();\n  const month = today.getMonth();\n  const day = today.getDate();\n  const finalDate = new Date(year, month, day).toLocaleString(\"ru\", {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n  });\n\n  React.useEffect(() => {\n    if (clicked) {\n      setmarked(!marked);\n    }\n  }, []);\n\n  const getMarked = () => {\n    if (marked) {\n      const allArticles = JSON.parse(localStorage.getItem(\"allArticles\"));\n      const markedIndex = allArticles.findIndex(function (article) {\n        return article.link === link;\n      });\n      allArticles[markedIndex].clicked = false;\n      deleteSavedArticle(_id, markedIndex, allArticles);\n    } else {\n      const allArticles = JSON.parse(localStorage.getItem(\"allArticles\"));\n      const markedIndex = allArticles.findIndex(function (article) {\n        return article.link === link;\n      });\n      const article = allArticles[markedIndex];\n      article.clicked = true;\n      saveNewArticle(\n        keyWord,\n        title,\n        text,\n        date,\n        source,\n        link,\n        image,\n        markedIndex,\n        allArticles\n      );\n    }\n    setmarked(!marked);\n  };\n\n  const deleteSaved = () => {\n    console.log(_id);\n    deleteFromSaved(_id);\n  };\n\n  return (\n    <li className=\"news-card\">\n      <img\n        className=\"news-card__image\"\n        alt=\"картинка карточки\"\n        src={image}\n      ></img>\n      <div\n        className={`news-card__icons ${saved ? \"news-card__icons_saved\" : \"\"}`}\n      >\n        <div\n          className={`news-card__icons-key ${\n            saved ? \"\" : \"news-card_invisable\"\n          }`}\n        >\n          <p className=\"news-card__icons-key-text\">{keyWord}</p>\n        </div>\n        <div className=\"news-card__icons-group\">\n          <button\n            onClick={getMarked}\n            disabled={!loggedIn}\n            className={`news-card__icons-button ${\n              saved ? \"news-card_invisable\" : \"\"\n            } ${loggedIn ? \"\" : \"news-card_disabled\"}`}\n          >\n            <div\n              className={`news-card__icons-button_flag-normal ${\n                marked ? \"news-card__icons-button_flag-marked\" : \"\"\n              } `}\n            ></div>\n          </button>\n          <div\n            className={`news-card__icons-message ${\n              saved ? \"news-card_invisable\" : \"\"\n            }`}\n          >\n            <p className=\"news-card__icons-messege-text\">\n              Войдите, чтобы сохранять статьи\n            </p>\n          </div>\n        </div>\n        <div className=\"news-card__icons-group\">\n          <button\n            onClick={deleteSaved}\n            disabled={!loggedIn}\n            className={`news-card__icons-button ${\n              saved ? \"\" : \"news-card_invisable\"\n            } ${loggedIn ? \"news-card_disabled\" : \"\"}`}\n          >\n            <div className=\"news-card__icons-button_bucket\"></div>\n          </button>\n          <div\n            className={`news-card__icons-message ${\n              saved ? \"\" : \"news-card_invisable\"\n            }`}\n          >\n            <p className=\"news-card__icons-messege-text\">\n              Убрать из сохранённых\n            </p>\n          </div>\n        </div>\n      </div>\n      <a\n        className=\"news-card__link\"\n        href={link}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <div className=\"news-card__info\">\n          <p className=\"news-card__date\">{finalDate}</p>\n          <h3 className=\"news-card__title\">{title}</h3>\n          <p className=\"news-card__text\">{text}</p>\n          <p className=\"news-card__source\">{source}</p>\n        </div>\n      </a>\n    </li>\n  );\n}\n\nexport default NewsCard;\n","C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\AuthPopup\\AuthPopup.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\InfoTooltip\\InfoTooltip.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\EntrancePopup\\EntrancePopup.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\Popup\\Popup.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\ProtectedRoute\\ProtectedRoute.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\contexts\\CurrentUserContext.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\auth.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\token.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\MainApi.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\NewsApi.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\components\\NewsError\\NewsError.js",[],"C:\\Users\\Игорь\\Desktop\\Diploma\\news-explorer-frontend\\src\\utils\\utils.js",[],{"ruleId":"127","replacedBy":"128"},{"ruleId":"129","replacedBy":"130"},{"ruleId":"127","replacedBy":"131"},{"ruleId":"129","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":40,"column":6,"nodeType":"135","endLine":40,"endColumn":8,"suggestions":"136"},{"ruleId":"133","severity":1,"message":"137","line":57,"column":6,"nodeType":"135","endLine":57,"endColumn":8,"suggestions":"138"},{"ruleId":"139","severity":1,"message":"140","line":27,"column":9,"nodeType":"141","messageId":"142","endLine":27,"endColumn":20},{"ruleId":"133","severity":1,"message":"143","line":35,"column":6,"nodeType":"135","endLine":35,"endColumn":8,"suggestions":"144"},"no-native-reassign",["145"],"no-negated-in-lhs",["146"],["145"],["146"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'tokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["147"],"React Hook React.useEffect has missing dependencies: 'articlesNumber', 'getSavedArticles', and 'loggedIn'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setArticles' needs the current value of 'articlesNumber'.",["148"],"no-unused-vars","'currentUser' is assigned a value but never used.","Identifier","unusedVar","React Hook React.useEffect has missing dependencies: 'clicked' and 'marked'. Either include them or remove the dependency array. You can also do a functional update 'setmarked(m => ...)' if you only need 'marked' in the 'setmarked' call.",["149"],"no-global-assign","no-unsafe-negation",{"desc":"150","fix":"151"},{"desc":"152","fix":"153"},{"desc":"154","fix":"155"},"Update the dependencies array to be: [tokenCheck]",{"range":"156","text":"157"},"Update the dependencies array to be: [articlesNumber, getSavedArticles, loggedIn]",{"range":"158","text":"159"},"Update the dependencies array to be: [clicked, marked]",{"range":"160","text":"161"},[1759,1761],"[tokenCheck]",[2146,2148],"[articlesNumber, getSavedArticles, loggedIn]",[644,646],"[clicked, marked]"]